# Toyama Server (NodeJs + fastify)

Modern and fast sesrver for Toyama built with fastify and NodeJs

## Quick start

1. Install dependencies

```bash
npm install
```

2. Start the dev server

```bash
npm run dev
```

3. Build for production

```bash
npm run build
```

## Tech stack

- Fastify
- NodeJs
- Nodemailer
- Postfix
- Mailpit

## Project structure

```
/ (repo root)
├─ dist            # Generated by npm build
├─ tsconfig.json          # TS config with @ alias → src/*
├─ package.json
└─ src/
   ├─ server.ts
   ├─ app.ts
   ├─ controller/
   │  └─ email.controller.ts
   ├─ routes/
   │  └─ email.routes.ts
   ├─ services
   |  ├─ email.service.ts
   │  └─ mailer
   |     └─ email.sender.ts
   ├─ templates
   |   └─ contactRequest.html      # Email template
   ├─ types
   |   └─ email.types.ts         # Types declaration
   └─ validation/
      └─ email.validation.ts
```

## System-Level Configuration

- Postfix must be installed and configured for sending emails. Refer to the [official Postfix documentation](https://www.postfix.org/documentation.html) for setup instructions.
- Docker must be installed to run Mailpit for email testing. Mailpit can be started with: docker (run -d -p 1025:1025 -p 8025:8025 mailpit/mailpit)
- Access the Mailpit web interface at `http://localhost:8025`.

## Aliases

- `@/*` resolves to `src/*` (see `tsconfig.json`).
